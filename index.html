<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>XERA Beauty</title>

  <!-- INLINE CSS so we bypass any external file issues -->
  <style>
    /* Reset */
    *{box-sizing:border-box}
    html,body{margin:0;height:100%}
    :root{
      --radius:20px;
      --shadow:0 10px 40px rgba(0,0,0,.35);
      --font:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
    }

    /* Background stack */
    .bg-stack{position:fixed;inset:0;z-index:-1;overflow:hidden;background:#000}
    .bg{position:absolute;inset:0;opacity:0;transition:opacity 700ms ease;
        background-size:cover;background-position:center;filter:contrast(1.06) saturate(1.05)}
    .bg.show{opacity:1}

    /* Modern gradients: mostly color, small black pocket top-left */
    .v1{
      background-image:
        radial-gradient(420px 320px at 0% 0%, rgba(0,0,0,.55) 0%, rgba(0,0,0,.25) 18%, rgba(0,0,0,0) 36%),
        linear-gradient(135deg, #f2f0ff 0%, #c5c2ff 55%, #e0deff 100%);
    }
    .v2{
      background-image:
        radial-gradient(420px 320px at 0% 0%, rgba(0,0,0,.55) 0%, rgba(0,0,0,.25) 18%, rgba(0,0,0,0) 36%),
        linear-gradient(135deg, #f5f0ff 0%, #d8b8ff 55%, #e9d4ff 100%);
    }
    .v3{
      background-image:
        radial-gradient(420px 320px at 0% 0%, rgba(0,0,0,.55) 0%, rgba(0,0,0,.25) 18%, rgba(0,0,0,0) 36%),
        linear-gradient(135deg, #f0f0ff 0%, #b8f0f5 55%, #d2f7fa 100%);
    }
    .v4{
      background-image:
        radial-gradient(420px 320px at 0% 0%, rgba(0,0,0,.55) 0%, rgba(0,0,0,.25) 18%, rgba(0,0,0,0) 36%),
        linear-gradient(135deg, #fff0f7 0%, #ffb8d9 55%, #ffd4e7 100%);
    }
    .v5{
      background-image:
        radial-gradient(420px 320px at 0% 0%, rgba(0,0,0,.55) 0%, rgba(0,0,0,.25) 18%, rgba(0,0,0,0) 36%),
        linear-gradient(135deg, #fffbe5 0%, #ffeeb8 55%, #fff4d2 100%);
    }

    /* Section label */
    .crumb{
      position:fixed;top:18px;right:18px;z-index:50;
      padding:12px 16px;border-radius:999px;
      background:rgba(255,255,255,.08);
      color:#fff;font:600 17px/1.1 var(--font);
      letter-spacing:.2px;backdrop-filter:blur(6px);
      border:1px solid rgba(255,255,255,.12)
    }
    /* Social rail under the crumb */
    .socialrail{
      position: fixed;
      top: 66px;            /* sits just below the crumb */
      right: 18px;
      z-index: 55;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .socialbtn{
      width: 42px;
      height: 42px;
      display: grid;
      place-items: center;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      color: #fff;
      text-decoration: none;
      box-shadow: 0 6px 18px rgba(0,0,0,.20);
      transition: transform .15s ease, background .15s ease, border-color .15s ease, box-shadow .15s ease;
    }
    .socialbtn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.14);
      border-color: rgba(255,255,255,.20);
      box-shadow: 0 8px 22px rgba(0,0,0,.24);
    }
    .socialbtn svg{
      width: 20px; height: 20px;
      fill: currentColor;
    }
    /* Panels over background */
    main{display:block}
    .panel{
      min-height:100svh;display:grid;place-items:center;
      padding:clamp(18px,4vw,48px)
    }

    /* Frosted glass card (base) */
    .card{
      width:min(92vw,860px);
      color:#fff;text-align:center;
      padding:clamp(20px,4vw,44px);
      border-radius:var(--radius);
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      box-shadow:var(--shadow);
      backdrop-filter:blur(10px);
      transform:translateY(18px);opacity:.001;
      transition:transform 500ms ease,opacity 500ms ease
    }
    .card.reveal{transform:translateY(0);opacity:1}

    /* --- Tinted bubbles per section (overrides base .card) --- */
    .card{
      backdrop-filter: blur(22px);
      -webkit-backdrop-filter: blur(22px);
      border: 1px solid rgba(255,255,255,.18);
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
      color: #fff;
      text-shadow: 0 1px 0 rgba(0,0,0,.15);
    }
    .panel[data-visual="v1"] .card{ background: rgba(197, 194, 255, 0.75); } /* #c5c2ff */
    .panel[data-visual="v2"] .card{ background: rgba(216, 184, 255, 0.75); } /* #d8b8ff */
    .panel[data-visual="v3"] .card{ background: rgba(184, 240, 245, 0.75); } /* #b8f0f5 */
    .panel[data-visual="v4"] .card{ background: rgba(255, 184, 217, 0.75); } /* #ffb8d9 */
    .panel[data-visual="v5"] .card{ background: rgba(255, 238, 184, 0.88); } /* stronger yellow for contrast */

    /* Auto-contrast text inside cards */
    .card p,
    .card li { color: inherit; max-width:72ch; margin-inline:auto; }

    .card.tone-light p,
    .card.tone-light li {
      color:#1b1b1b;           /* dark text on light cards */
      text-shadow:none;
    }
    .card.tone-dark p,
    .card.tone-dark li {
      color:#ffffff;           /* light text on darker cards */
      text-shadow:0 1px 0 rgba(0,0,0,.25);
    }

    /* Type */
    h1,h2{margin:0 0 12px 0;line-height:1.06}
    h1{font:700 clamp(34px,7vw,72px)/1 var(--font)}
    h2{font:700 clamp(26px,4.2vw,40px)/1.08 var(--font)}
    p,li{font:400 clamp(16px,2.1vw,18px)/1.6 var(--font);color:#f0f0f3}
    ul{max-width:720px;margin:0 auto;padding-left:18px;text-align:left}
    li+li{margin-top:8px}

    .actions{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:12px}
    .cta{background:#fff;color:#000;text-decoration:none;padding:12px 18px;border-radius:999px;font-weight:700}
    .ghost{color:#fff;text-decoration:none;padding:12px 18px;border-radius:999px;border:1px solid rgba(255,255,255,.35)}
    .cta:hover,.ghost:hover{filter:brightness(1.05)}
    /* Frosted CTA button styled like crumb/social */
    .frosted-cta {
      display:inline-grid;
      place-items:center;
      padding:12px 28px;
      border-radius:999px;
      background:rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.12);
      backdrop-filter:blur(6px);
      -webkit-backdrop-filter:blur(6px);
      color:#fff;
      font-weight:600;
      text-decoration:none;
      box-shadow:0 6px 18px rgba(0,0,0,.20);
      transition:transform .15s ease, background .15s ease, border-color .15s ease, box-shadow .15s ease;
    }
    .frosted-cta:hover{
      transform:translateY(-1px);
      background:rgba(255,255,255,.14);
      border-color:rgba(255,255,255,.20);
      box-shadow:0 8px 22px rgba(0,0,0,.24);
    }
    @media (prefers-reduced-motion:reduce){
      .bg{transition:none}
      .card{transition:none}
    }

    /* ---------- Scroll-reactive polish ---------- */

    /* 1) Parallax on background layers */
    .bg { will-change: transform; transform: translateY(var(--bgParallax, 0px)) scale(1.06); }
    .bg-stack.scrolling .bg.show { transition: opacity 300ms ease; }

    /* 2) Card live motion based on per-panel progress (0â†’1) */
    .card {
      --p: 0; /* set by JS */
      transform: translateY(calc((1 - var(--p)) * 24px)) scale(calc(0.98 + var(--p) * 0.02));
      opacity: calc(0.15 + var(--p) * 0.85);
      will-change: transform, opacity;
    }

    /* 3) Top progress bar */
    .progress {
      position: fixed; top: 0; left: 0; height: 3px; width: 100%;
      background: rgba(255,255,255,.12); z-index: 60;
    }
    .progress > i {
      display: block; height: 100%; width: var(--prog, 0%);
      background: linear-gradient(90deg, #fff 0%, #ffd9ef 40%, #c7c2ff 100%);
      box-shadow: 0 0 10px rgba(255,255,255,.4);
      transition: width 80ms linear;
    }

    /* 4) Dot nav (right side) */
    .dotnav {
      position: fixed; right: 16px; top: 50%; transform: translateY(-50%);
      display: grid; gap: 10px; z-index: 60;
    }
    .dotnav button {
      width: 10px; height: 10px; border-radius: 50%;
      background: rgba(255,255,255,.45); border: 1px solid rgba(255,255,255,.6);
      cursor: pointer; padding: 0;
      transition: transform 150ms ease, background 150ms ease, box-shadow 150ms ease;
    }
    .dotnav button.active {
      transform: scale(1.3);
      background: #fff; box-shadow: 0 0 0 3px rgba(255,255,255,.25);
    }
    .dotnav button:focus-visible { outline: 2px solid #fff; outline-offset: 2px; }
  </style>
</head>
<body>
  <!-- Social rail -->
<div class="socialrail" aria-label="Social links">
  <!-- Instagram -->
  <a class="socialbtn" href="https://instagram.com/nylaea" target="_blank" rel="noopener" aria-label="Instagram" title="Instagram">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
      <path d="M224,202.66A53.34,53.34,0,1,0,277.34,256,53.38,53.38,0,0,0,224,202.66ZM400,32H48A48,48,0,0,0,0,80V432a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V80A48,48,0,0,0,400,32ZM224,338a82,82,0,1,1,82-82A82,82,0,0,1,224,338Zm137-186a19.5,19.5,0,1,1,19.5-19.5A19.5,19.5,0,0,1,361,152Z"/>
    </svg>
  </a>

  <!-- TikTok -->
  <a class="socialbtn" href="https://tiktok.com/@nylaea" target="_blank" rel="noopener" aria-label="TikTok" title="TikTok">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
      <path d="M448,209.91a210.65,210.65,0,0,1-122.77-39.77V348.32a163.6,163.6,0,1,1-144.4-162.2v82.1a82.07,82.07,0,1,0,57.08,78.3V0h85.32a125.79,125.79,0,0,0,124.77,124.77Z"/>
    </svg>
  </a>

  <!-- Threads -->
  <a class="socialbtn" href="https://www.threads.net/@nylaea" target="_blank" rel="noopener" aria-label="Threads" title="Threads">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
      <path d="M223.7 32C100.3 32 0 132.3 0 256s100.3 224 223.7 224c123.5 0 224-100.3 224-224S347.2 32 223.7 32zm96.2 341.4c-24.7 21.5-58.6 32.6-99.7 32.6-78.7 0-141-55.3-141-124.3s62.3-124.3 141-124.3c39.6 0 71.5 11 95 32.6 21.3 19.1 34.4 46.8 36.3 77.7h-70c-1.9-11.2-8.6-21.7-19.2-30.3-12.8-10.7-31.1-16.7-51.9-16.7-42.2 0-70.3 27.7-70.3 61.1s28.1 61.1 70.3 61.1c22.3 0 41.2-6.6 54-18.7 10.4-9.6 17.3-22.9 19.2-36.7h70c-2 30.2-14.9 57.1-37.7 77.3z"/>
    </svg>
  </a>
</div>
  <!-- NEW: progress bar + dot nav -->
  <div class="progress" aria-hidden="true"><i></i></div>
  <div class="dotnav" aria-label="Section navigation"></div>

  <div class="crumb" aria-live="polite">Intro</div>

  <!-- Backgrounds -->
  <div class="bg-stack">
    <div class="bg v1 show"></div>
    <div class="bg v2"></div>
    <div class="bg v3"></div>
    <div class="bg v4"></div>
    <div class="bg v5"></div>
  </div>

  <!-- Centered panels -->
  <main>

    <!-- Intro -->
    <section class="panel" data-visual="v1" data-crumb="Intro">
      <div class="card">
        <h1 class="brand">XERA Beauty</h1>
        <p class="lede">Bold, diverse makeup that heals, nourishes, and empowers.</p>
      </div>
    </section>

    <!-- Mission -->
    <section class="panel" data-visual="v1" data-crumb="My mission">
      <div class="card">
        <h2>My mission</h2>
        <p>I started XERA Beauty to create bold, diverse makeup that does more than look good. It heals, nourishes, and empowers. For me, beauty is about expression, authenticity, and accountability.</p>
      </div>
    </section>

    <!-- Story -->
    <section class="panel" data-visual="v2" data-crumb="My story">
      <div class="card">
        <h2>My story</h2>
        <p>I have been a performer and makeup artist for over twenty years, from drag to burlesque to theater. I know firsthand how frustrating it is to choose between skincare that feels good and makeup that lasts under lights, through sweat, and during long nights. That is why I decided to build XERA Beauty with products that deliver both.</p>
      </div>
    </section>

    <!-- Difference -->
    <section class="panel" data-visual="v3" data-crumb="What is different">
      <div class="card">
        <h2>What makes XERA Beauty different?</h2>
        <ul>
          <li><strong>Performance plus care.</strong> Theater grade longevity that still cares for your skin.</li>
          <li><strong>Inclusive by design.</strong> Built for performers, enthusiasts, and everyday users who are often not represented by mainstream beauty.</li>
          <li><strong>Accountability over greenwashing.</strong> A refill vision that aims to work in practice, not just as a slogan.</li>
          <li><strong>Fantasy meets reality.</strong> The Lore Line brings storytelling, artistry, and play into everyday makeup.</li>
        </ul>
      </div>
    </section>

    <!-- Coming Soon -->
    <section class="panel" data-visual="v4" data-crumb="Coming soon">
      <div class="card">
        <h2>LipLore</h2>
        <p>A crystal clear, high shine lip lacquer that is transfer proof, waterproof, and never sticky. First shades: Dragonâ€™s Blood, Mermaid Tears, Nymph Blessing, Faerie Dreams.</p>
      </div>
    </section>

    <!-- Join -->
    <section class="panel" data-visual="v5" data-crumb="Join me">
      <div class="card">
        <h2>Join me</h2>
        <p>I am building XERA Beauty step by step. Follow along for behind the scenes, process, and drops. Sign up to be first to know when LipLore goes live.</p>
        <div style="margin-top:20px;">
          <a class="cta" href="mailto:info@xerabeauty.com?subject=Join%20the%20list">Join the list</a>
        </div>
      </div>
    </section>

  </main>

  <!-- JS -->
  <script>
    const bgs = document.querySelectorAll('.bg');
    const panels = document.querySelectorAll('.panel');
    const crumb = document.querySelector('.crumb');

    // IntersectionObserver: reveal cards, swap backgrounds, update crumb
    const io = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (!entry.isIntersecting) return;

        const card = entry.target.querySelector('.card');
        if (card) {
          card.classList.add('reveal');
          applyCardTone(); // update tone when a new card comes in
        }

        const id = entry.target.dataset.visual;
        if (id){ bgs.forEach(bg => bg.classList.toggle('show', bg.classList.contains(id))); }

        const label = entry.target.dataset.crumb || 'â€¦';
        crumb.textContent = label;
      });
    }, { threshold: 0.66 });

    panels.forEach(p => io.observe(p));

    // === Auto tone detection for card backgrounds (WCAG luminance) ===
    function relativeLuminance(r, g, b){
      const toLin = v => {
        v /= 255;
        return (v <= 0.03928) ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);
      };
      const R = toLin(r), G = toLin(g), B = toLin(b);
      return 0.2126*R + 0.7152*G + 0.0722*B;
    }

    function applyCardTone(){
      document.querySelectorAll('.card').forEach(card => {
        const bg = getComputedStyle(card).backgroundColor; // rgb or rgba
        const m = /rgba?\((\d+),\s*(\d+),\s*(\d+)/.exec(bg);
        if (!m) return;
        const [r, g, b] = [ +m[1], +m[2], +m[3] ];
        const L = relativeLuminance(r, g, b); // 0 black â†’ 1 white
        const isLight = L > 0.65;             // tuned for your pastel glass

        card.classList.toggle('tone-light', isLight);
        card.classList.toggle('tone-dark', !isLight);
      });
    }

    // Run on load and on resize
    window.addEventListener('load', applyCardTone);
    window.addEventListener('resize', applyCardTone);

    /* === NEW: scroll-reactive animation engine === */
    const progressEl = document.querySelector('.progress > i');
    const dotnavEl = document.querySelector('.dotnav');
    const bgStack = document.querySelector('.bg-stack');

    // Build dot nav from panels (ensure IDs)
    const defaultIds = ['intro','mission','story','difference','coming','join'];
    panels.forEach((p, idx) => {
      if (!p.id) p.id = defaultIds[idx] || ('s' + (idx+1));
      const btn = document.createElement('button');
      btn.setAttribute('aria-label', p.dataset.crumb || `Section ${idx+1}`);
      btn.addEventListener('click', () => {
        document.getElementById(p.id).scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
      dotnavEl.appendChild(btn);
    });

    const lerp = (a,b,t)=>a+(b-a)*t;
    let ticking = false;

    function closestPanelIndex(){
      let best = 0, bestDist = Infinity;
      const mid = (window.innerHeight || 1) / 2;
      panels.forEach((panel, i) => {
        const rect = panel.getBoundingClientRect();
        const dist = Math.abs((rect.top + rect.height/2) - mid);
        if (dist < bestDist){ bestDist = dist; best = i; }
      });
      return best;
    }

    function updateScrollEffects(){
      ticking = false;

      // 1) Page progress
      const max = document.documentElement.scrollHeight - window.innerHeight;
      const y = window.scrollY;
      const prog = Math.max(0, Math.min(1, max ? y/max : 0)) * 100;
      progressEl.style.setProperty('--prog', prog + '%');

      // 2) Background parallax (subtle)
      const parallaxPx = lerp(0, -40, prog/100);
      document.documentElement.style.setProperty('--bgParallax', parallaxPx + 'px');

      // Snappier while scrolling
      bgStack.classList.add('scrolling');
      clearTimeout(updateScrollEffects._t);
      updateScrollEffects._t = setTimeout(()=>bgStack.classList.remove('scrolling'), 120);

      // 3) Per-panel progress for card motion + dot active state
      const btns = dotnavEl.querySelectorAll('button');
      const active = closestPanelIndex();
      panels.forEach((panel, i) => {
        const rect = panel.getBoundingClientRect();
        const vh = window.innerHeight || 1;
        const centerDist = Math.abs((rect.top + rect.height/2) - vh/2);
        const reach = Math.max(vh * 0.8, 1);
        let p = 1 - (centerDist / reach);
        p = Math.max(0, Math.min(1, p));
        const card = panel.querySelector('.card');
        if (card) card.style.setProperty('--p', p.toFixed(3));

        if (i === active) btns[i].classList.add('active');
        else btns[i].classList.remove('active');
      });
    }

    function onScroll(){
      if (!ticking){
        window.requestAnimationFrame(updateScrollEffects);
        ticking = true;
      }
    }

    window.addEventListener('scroll', onScroll, { passive:true });
    window.addEventListener('resize', onScroll);
    onScroll(); // init once
  </script>
</body>
</html>